---
import type { MetaFunction } from "astro"
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro"

export const meta: MetaFunction = () => {
  return {
    title: "ChatIAS - OpenCode",
    description: "Chat interface with AI models and human agents",
  }
}

const apiUrl = import.meta.env.VITE_API_URL
---

<StarlightPage
  hasSidebar={false}
  frontmatter={{
    title: "ChatIAS",
    pagefind: false,
    template: "splash",
    tableOfContents: false,
  }}
>
  <div class="chat-wrapper">
    <div id="chat-root"></div>
  </div>
</StarlightPage>

<script>
  import { render } from "solid-js/web"
  import ChatPage from "../../components/Chat"

  const root = document.getElementById("chat-root")
  if (root) {
    render(() => <ChatPage />, root)
  }
</script>

<style is:global>
  .chat-wrapper {
    width: 100%;
    height: 100vh;
    margin: 0;
    padding: 0;
  }

  .chat-wrapper #chat-root {
    width: 100%;
    height: 100%;
  }

  body > .page > .main-frame .main-pane > main > .content-panel:first-of-type {
    display: none !important;
  }

  body > .page > .main-frame .main-pane > main {
    padding: 0 !important;
    background: var(--color-surface-raised-base) !important;
  }

  body > .page > .main-frame .main-pane > main > .content-panel + .content-panel {
    border-top: none !important;
    padding: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
  }
</style>
